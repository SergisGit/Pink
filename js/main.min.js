!function(){"use strict";function e(e,t,l){var i;for(g=0;g<e.length;g+=1)e[g].classList.contains("toggle-index")&&(i=l*g,t.style.transform="translateX("+i+"%)")}function t(t,l,i,n){t.addEventListener("click",function(t){var o=t.target;if(o.classList.contains("slider__toggle")){if(t.preventDefault(),o.classList.contains("toggle-index"))return!1;for(g=0;g<l.length;g+=1)l[g].classList.remove("toggle-index");o.classList.add("toggle-index"),e(l,i,n)}})}function l(t,l,i){for(g=0;g<t.length;g+=1)if(t[g].classList.contains("toggle-index")){if(g==t.length-1){t[g].classList.remove("toggle-index"),t[0].classList.add("toggle-index"),e(t,l,i);break}t[g].classList.remove("toggle-index"),t[g+1].classList.add("toggle-index"),e(t,l,i);break}}function i(t,l,i){for(var n=0;n<t.length;n+=1)if(t[n].classList.contains("toggle-index")){if(0==n){t[n].classList.remove("toggle-index"),t[t.length-1].classList.add("toggle-index"),e(t,l,i);break}t[n].classList.remove("toggle-index"),t[n-1].classList.add("toggle-index"),e(t,l,i);break}}function n(e,t,n){t.addEventListener("touchstart",function(e){o=e.touches[0].clientX,s=e.touches[0].clientY},!1),t.addEventListener("touchmove",function(r){if(o&&s){var a=r.touches[0].clientX,c=r.touches[0].clientY,d=o-a,g=s-c;Math.abs(d)+Math.abs(g)>150&&(Math.abs(d)>Math.abs(g)&&(d>0?l(e,t,n):i(e,t,n)),o=null,s=null)}},!1);var o=null,s=null}function o(e,o){var s=e.querySelector(".slider__list"),r=e.querySelector(".slider__toggles"),a=r.querySelectorAll(".slider__toggle"),c=e.querySelector(".slider__prev"),d=e.querySelector(".slider__next");t(r,a,s,o),n(a,s,o),c&&d&&(d.addEventListener("click",function(){l(a,s,o)}),c.addEventListener("click",function(){i(a,s,o)}))}function s(e,t,l,i){function n(){var e=a.clientWidth,t=a.clientHeight,l=e*o/100/2,i=t*o/100/2;c.style.borderLeftWidth=l+"px",c.style.borderRightWidth=l+"px",c.style.borderTopWidth=i+"px",c.style.borderBottomWidth=i+"px"}var o,s=m.querySelector(".filter-range_"+e),r=m.querySelector("#input-"+e),a=document.querySelector("#filtered-img"),c=document.querySelector("#image-mask");noUiSlider.create(s,{start:i,connect:!0,step:1,range:{min:t,max:l},format:wNumb({decimals:0})}),a&&"crop"==e&&window.addEventListener("resize",function(){o=s.noUiSlider.get(),n()}),s.noUiSlider.on("update",function(t,l){if(o=t[l],r.value=o,a)if("crop"==e)n();else{var i=e+"("+o/100+")",s=getComputedStyle(a).filter,c=new RegExp(e+"[(][0-9]+.?[0-9]*[)]");"none"===s?a.style.filter=i:c.test(s)?(s=s.replace(c,i),a.style.filter=s):a.style.filter=s+" "+i}})}function r(e){var t=e.target;if(t.classList.contains("post-image__tool")){for(g=0;g<v.length;g+=1)v[g].classList.remove("tool-index"),v[g].firstElementChild&&(v[g].firstElementChild.style.fill="rgba(40, 54, 69, 0.3)");for(t.firstElementChild&&(t.firstElementChild.style.fill="#d22856"),t.classList.add("tool-index"),g=0;g<v.length;g+=1)v[g].classList.contains("tool-index")?p[g].style.display="block":p[g].style.display="none"}}function a(){if(window.matchMedia("(max-width: 699px)").matches){for(g=0;g<v.length;g+=1)v[g].firstElementChild&&(v[g].firstElementChild.style.pointerEvents="none",v[g].firstElementChild.style.fill=0==g?"#d22856":"rgba(40, 54, 69, 0.3)"),p[g].style.display=0==g?"block":"none";y.addEventListener("click",r)}else for(y.removeEventListener("click",r),g=0;g<v.length;g+=1)v[g].firstElementChild&&(v[g].firstElementChild.style.fill="#d22856"),p[g].style.display="block"}if(-1!=window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./)){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.setAttribute("src","js/picturefill.min.js"),d.setAttribute("type","text/javascript"),d.setAttribute("async","false"),c.appendChild(d)}var g,f=document.querySelector(".reviews__slider"),u=document.querySelector(".price__slider");f&&o(f,-100),u&&o(u,-90),document.getElementById("map")&&google.maps.event.addDomListener(window,"load",function(){var e=new google.maps.LatLng(59.93632276,30.32106467),t={zoom:16,center:e,disableDefaultUI:!0,draggable:!0,scrollwheel:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_CENTER}},l=new google.maps.Map(document.getElementById("map"),t);new google.maps.Marker({position:e,map:l,icon:{path:google.maps.SymbolPath.CIRCLE,scale:13,fillOpacity:100,fillColor:"#d22856",strokeWeight:10,strokeColor:"white"},title:"HTML Academy"}),google.maps.event.addDomListener(window,"resize",function(){l.setCenter(e)})});var m=document.querySelector(".ranges");if(m){var p=m.querySelectorAll(".range-wrapper"),h=(m.querySelectorAll(".filter-range"),m.querySelectorAll(".filter-scale")),y=document.querySelector(".post-image__tools"),v=y.querySelectorAll(".post-image__tool");for(g=0;g<h.length;g+=1)h[g].classList.add("hide-block");y&&(a(),window.addEventListener("resize",function(){a()})),s("crop",0,60,0),s("saturate",10,300,100),s("contrast",70,130,100)}}();